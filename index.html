<!DOCTYPE html>
<html>
<script>
// Let's play Rock, Paper, Scissors!
function genRand(min, max) {
	return Math.floor(Math.random() * (max - min + 1)) + min;
}

function computerPlay() {
	let choice = "";
	let num = genRand(1, 12);
	if (num < 5) {
		choice = "R";	
	}
	else if (num < 9) {
		choice = "P";
	}
	else {
		choice = "S";
	}
	console.log(`Computer chose: ${choice}`);
	return choice;
}

function playerSelection() {

	let choice = prompt("What is your choice: 'rock', 'paper', or 'scissors'?");
	let selection = choice.slice(0,1).toUpperCase();
	console.log(`Player chose: ${selection}, or ${choice}`);
	return selection;	
}

function faceOff(points) {
	let choiceOfPlayer = playerSelection();
	let choiceOfComputer = computerPlay();
	if (choiceOfPlayer === choiceOfComputer) {
		return;	
	}
	else if ( (choiceOfPlayer === "P" && choiceOfComputer === "R") ||
		(choiceOfPlayer === "S" && choiceOfComputer === "P") ||
		(choiceOfPlayer === "R" && choiceOfComputer === "S")) {
		
		++points.player;
		console.log(`Player won this round! Player has ${points.player} points!`);
		
	}
	else {
		++points.computer;
		console.log(`Computer won this round! Computer has ${points.computer} points!`);
	}
}

function game(points) {
	for (let i = 0; i < 5; ++i) {
		faceOff(points);
	}
	if (points.player > points.computer) {
		console.log("You won! Your opponent has been vanquished!");
	}
	else if (points.player < points.computer) {
		console.log("You lost to a silly computer .. oof");
	}
	else {
		console.log("Looks like the game has ended in a tie!");
	}
	
}

var points = { computer: 0, player: 0 };

game(points);

</script>
</html>
